From bd902d5418a6c757e6afaed3dcac5e6844ce8c90 Mon Sep 17 00:00:00 2001
From: Andre Heider <a.heider@gmail.com>
Date: Fri, 18 Nov 2022 12:29:44 +0100
Subject: [PATCH 01/12] nl80211: fix -Wformat-truncation warnings

Increase buffer sizes to get rid of e.g.:
iwinfo_nl80211.c:797:41: note: 'snprintf' output between 24 and 279 bytes into a destination of size 64

Signed-off-by: Andre Heider <a.heider@gmail.com>
---
 iwinfo_nl80211.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

--- a/iwinfo_nl80211.c
+++ b/iwinfo_nl80211.c
@@ -240,7 +240,7 @@ static const char *nl80211_phy_path_str(
 	int prefix_len = strlen(prefix);
 	int buf_len, offset;
 	struct dirent *e;
-	char buf[128], *link;
+	char buf[512], *link;
 	int phy_idx;
 	int seq = 0;
 	DIR *d;
@@ -297,7 +297,7 @@ static const char *nl80211_phy_path_str(
 
 static int nl80211_phy_idx_from_path(const char *path)
 {
-	char buf[128];
+	char buf[512];
 	struct dirent *e;
 	const char *cur_path;
 	int cur_path_len;
@@ -736,7 +736,7 @@ nla_put_failure:
 static char * nl80211_phy2ifname(const char *ifname)
 {
 	int ifidx = -1, cifidx = -1, phyidx = -1;
-	char buffer[64];
+	char buffer[512];
 	static char nif[IFNAMSIZ] = { 0 };
 
 	DIR *d;
